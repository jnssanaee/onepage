<!doctype html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6VC1FPVMSP"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-6VC1FPVMSP');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./style.css">
    <link rel="shortcut icon" href="./favicon.png" type="image/x-icon"/>
    <title>정기예금 금리비교</title>
    <meta name="Keywords" content="정기예금, 이율, 이자, 대출 이자, 대출금리, 금리비교">
    <meta name="Description" content="정기예금 정보를 제공합니다.">



    <!--
        [D] API 정보
        - URL : http://finlife.fss.or.kr/PageLink.do?link=openapi/detail02&menuId=2000126
        - 발급받은 인증키 : 9e318125fa055ef370a2e04cfe25c7f9
        - 호출 예제(JSON) : http://finlife.fss.or.kr/finlifeapi/depositProductsSearch.json?auth=9e318125fa055ef370a2e04cfe25c7f9&topFinGrpNo=020000&pageNo=1
    -->
</head>
<body>
    <div class="wrap">
        <div class="inner">

            <div class="box_bank" style="display: none">
                <div class="title">정기예금</div><!-- [D] 금융 상품명 -->
                <div class="highest_rate">
                    최고 <strong>5.10</strong>%<!-- [D] 최고 우대금리 -->
                </div>
                <div class="area_info">
                    <dl>
                        <dt>은행명</dt>
                        <dd>우리종합금융</dd><!-- [D] 금융회사명 -->
                        <dt>금리</dt>
                        <dd>기본 5.00% (12개월)</dd><!-- [D] 저축금리 -->
                    </dl>
                </div>
            </div>

           <!-- <div class="box_bank">
                <div class="title">JB 1·2·3 정기예금</div>
                <div class="highest_rate">
                    최고 <strong>5.10</strong>%
                </div>
                <div class="area_info">
                    <dl>
                        <dt>은행명</dt>
                        <dd>전북은행</dd>
                        <dt>금리</dt>
                        <dd>기본 4.30% (12개월)</dd>
                    </dl>
                </div>
            </div>

            <div class="box_bank">
                <div class="title">IBK 성공의 법칙 예금(복리채)</div>
                <div class="highest_rate">
                    최고 <strong>5.07</strong>%
                </div>
                <div class="area_info">
                    <dl>
                        <dt>은행명</dt>
                        <dd>IBK기업은행</dd>
                        <dt>금리</dt>
                        <dd>기본 4.77% (12개월)</dd>
                    </dl>
                </div>
            </div>

            <div class="box_bank">
                <div class="title">IBK 늘푸른하늘통장(기업)[복리채]</div>
                <div class="highest_rate">
                    최고 <strong>4.97</strong>%
                </div>
                <div class="area_info">
                    <dl>
                        <dt>은행명</dt>
                        <dd>IBK기업은행</dd>
                        <dt>금리</dt>
                        <dd>기본 4.77% (12개월)</dd>
                    </dl>
                </div>
            </div>-->


        </div>
    </div>

    <div id="demo"></div>

    <script>
        // 금융감독원 오픈 API
        // http://finlife.fss.or.kr/PageLink.do?link=openapi/detail02&menuId=2000126
        var apiUrl = 'https://cors-anywhere.herokuapp.com/http://finlife.fss.or.kr/finlifeapi/depositProductsSearch.json?auth=9e318125fa055ef370a2e04cfe25c7f9&topFinGrpNo=020000&pageNo=1';
        fetch(apiUrl).then(response => {
            return response.json();
        }).then(data => {
            // Work with JSON data here
            //console.log(data.result.baseList.length);

            /*let txt = "";
            for(i=0; i<data.result.baseList.length; i++){

                //console.log(data.result.baseList[i].fin_prdt_nm)

                txt += data.result.baseList[i].fin_prdt_nm + "<br>";
            }
            document.getElementById('demo').innerHTML = txt;*/
            //console.log(data)

            

            function renderBox(data){
                let boxData = [];

                /*let dataValues = Object.values(data.result);*/
                console.log(data.result);

                for (i=0; i<data.result.baseList.length; i++){

                    //console.log(data.result);



                    boxData.push(`
                        <div class="box_bank">
                            <div class="title">${data.result.baseList[i].fin_prdt_nm}</div>
                             <div class="area_info">
                                <dl>
                                    <dt>은행명</dt>
                                    <dd>${data.result.baseList[i].kor_co_nm}</dd>
                                    <dt>금리</dt>
                                    <dd></dd>
                                </dl>
                            </div>
                        </div>
                    `);
                }
                //

                document.querySelector('.wrap > .inner').innerHTML = boxData.join('');
            }
            renderBox(data);

            //console.log(data);
        }).catch(err => {
            // Do something for an error here
        });
    </script>

</body>
</html>